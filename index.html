<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>DictÃ©e Diagnostic â€” Localisation + PiÃ¨ces (Offline)</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="wrap">
    <header class="card header">
      <div>
        <h1>DictÃ©e Diagnostic</h1>
        <p class="sub">1 champ â€¢ mots-clÃ©s <span class="kbd">localisation</span> puis <span class="kbd">il y a les piÃ¨ces suivantes</span> â€¢ offline</p>
      </div>
      <div class="status">
        <span class="pill" id="micStatus">Micro: prÃªt</span>
        <span class="pill" id="parseStatus">Parsing: â€”</span>
      </div>
    </header>

    <section class="card">
      <label class="label">Champ unique (dictÃ©e / texte)</label>
      <textarea id="dict" class="dict" placeholder="Ex:
localisation bÃ¢timent A logement 2 au rez de chaussÃ©e
il y a les piÃ¨ces suivantes : une cuisine, un sÃ©jour, deux chambres, une salle de bain, deux WC sÃ©parÃ©s"></textarea>

      <div class="btnRow">
        <button class="btn mic" id="micBtn">ğŸ¤ DÃ©marrer la dictÃ©e</button>
        <button class="btn secondary" id="clearBtn">âœ• Vider</button>
      </div>

      <div class="btnRow">
        <button class="btn" id="addBtn">â• Ajouter au tableau</button>
        <button class="btn secondary" id="resetBtn">ğŸ§¹ Vider le tableau</button>
      </div>

      <div class="preview">
        <div class="previewBox">
          <div class="previewTitle">Localisation dÃ©tectÃ©e</div>
          <div class="previewVal" id="locPreview">â€”</div>
        </div>
        <div class="previewBox">
          <div class="previewTitle">PiÃ¨ces dÃ©tectÃ©es</div>
          <div class="previewVal" id="roomsPreview">â€”</div>
        </div>
      </div>

      <p class="hint">
        Astuces dictÃ©e: marque une pause aprÃ¨s les virgules. Tu peux dire Â« deux WC sÃ©parÃ©s Â».
        Le systÃ¨me ignore le blabla et ne conserve que les noms de piÃ¨ces reconnus.
      </p>
    </section>

    <section class="card">
      <div class="tableHeader">
        <h2>Tableau (Ã©ditable)</h2>
        <button class="btn tiny secondary" id="exportBtn">â¬‡ï¸ Export CSV</button>
      </div>
      <div class="tableWrap">
        <table>
          <thead>
            <tr>
              <th>Localisation</th>
              <th>PiÃ¨ce</th>
              <th class="actCol">Actions</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>
      <p class="hint">Chaque cellule est Ã©ditable. ğŸ—‘ï¸ supprime la ligne. ğŸ™ï¸ est rÃ©servÃ© pour un descriptif futur.</p>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
